(function(e){function t(t){for(var n,c,i=t[0],o=t[1],l=t[2],f=0,b=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&b.push(s[c][0]),s[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(b.length)b.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==s[o]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},s={app:0},r=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),s={class:"container"},r={class:"section"};function c(e,t,a,c,i,o){var l=Object(n["s"])("Nav"),u=Object(n["s"])("router-view");return Object(n["o"])(),Object(n["d"])(n["a"],null,[Object(n["f"])(l),Object(n["f"])("div",s,[Object(n["f"])("main",r,[Object(n["f"])(u)])])],64)}a("7e79");var i={class:"navbar container",role:"navigation","aria-label":"main navigation"},o=Object(n["f"])("div",{class:"navbar-brand"},[Object(n["f"])("a",{class:"navbar-item",href:"/"},[Object(n["f"])("img",{src:"favicon/favicon-32x32.png"}),Object(n["e"])(" Â  Truck Manifest ")]),Object(n["f"])("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},[Object(n["f"])("span",{"aria-hidden":"true"}),Object(n["f"])("span",{"aria-hidden":"true"}),Object(n["f"])("span",{"aria-hidden":"true"})])],-1),l={id:"navbarBasicExample",class:"navbar-menu"},u={class:"navbar-start"},f=Object(n["e"])("Home"),b={class:"navbar-end"},d={class:"navbar-item"},p={key:0,class:"buttons"},m={key:1,class:"buttons"},O=Object(n["e"])("Register"),j=Object(n["e"])("Login");function v(e,t,a,s,r,c){var v=Object(n["s"])("router-link");return Object(n["o"])(),Object(n["d"])("nav",i,[o,Object(n["f"])("div",l,[Object(n["f"])("div",u,[Object(n["f"])(v,{to:"/",class:["navbar-item",r.user?"is-active":""]},{default:Object(n["y"])((function(){return[f]})),_:1},8,["class"])]),Object(n["f"])("div",b,[Object(n["f"])("div",d,[r.user?(Object(n["o"])(),Object(n["d"])("div",p,[Object(n["f"])("button",{class:"button is-light",onClick:t[1]||(t[1]=function(){return c.logout&&c.logout.apply(c,arguments)})},"Logout")])):(Object(n["o"])(),Object(n["d"])("div",m,[Object(n["f"])(v,{to:"/register",class:"button is-primary"},{default:Object(n["y"])((function(){return[O]})),_:1}),Object(n["f"])(v,{to:"/login",class:"button is-light"},{default:Object(n["y"])((function(){return[j]})),_:1})]))])])])])}a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("96cf");var h=a("1da1"),g={data:function(){return{user:null}},watch:{$route:function(e,t){var a=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e.name,t.name),n.next=3,a.getCurrentUser();case 3:a.user=n.sent;case 4:case"end":return n.stop()}}),n)})))()}},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:e.user=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{getCurrentUser:function(){var e=this;return new Promise((function(t,a){var n=e.$firebase.auth().onAuthStateChanged((function(e){n(),t(e)}),a)}))},logout:function(){var e=this;this.$firebase.auth().signOut().then((function(){console.log("success"),e.$router.replace({name:"Login"})})).catch((function(e){console.log(e)}))}}};g.render=v;var w=g,y={name:"App",components:{Nav:w}};y.render=c;var k=y,x=a("260b"),U=(a("45fc"),a("6c02")),L=Object(n["f"])("h1",{class:"title"},"Login",-1),P={class:"field"},R=Object(n["f"])("label",{class:"label"},"Email",-1),S={class:"control has-icons-left"},$=Object(n["f"])("span",{class:"icon is-small is-left"},[Object(n["f"])("i",{class:"fas fa-envelope"})],-1),A={class:"field"},z=Object(n["f"])("label",{class:"label"},"Password",-1),E={class:"control has-icons-left"},C=Object(n["f"])("span",{class:"icon is-small is-left"},[Object(n["f"])("i",{class:"fas fa-key"})],-1),_={ref:"submitBtn",type:"submit",class:"button is-primary"};function B(e,t,a,s,r,c){return Object(n["o"])(),Object(n["d"])(n["a"],null,[L,Object(n["f"])("form",{onSubmit:t[3]||(t[3]=Object(n["A"])((function(){return c.login&&c.login.apply(c,arguments)}),["prevent"])),method:"post"},[Object(n["f"])("div",P,[R,Object(n["f"])("div",S,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.email=e}),placeholder:"Email input"},null,512),[[n["w"],r.email]]),$])]),Object(n["f"])("div",A,[z,Object(n["f"])("div",E,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e}),placeholder:"Password"},null,512),[[n["w"],r.password]]),C])]),Object(n["f"])("button",_,"Login",512)],32)],64)}a("ea7b");var V={name:"Login",data:function(){return{email:"",password:""}},methods:{login:function(){var e=this,t=this.$refs.submitBtn;t.classList.add("is-loading"),this.$firebase.auth().signInWithEmailAndPassword(this.email,this.password).then((function(a){t.classList.remove("is-loading"),console.log(a),e.$router.replace({name:"Home"})})).catch((function(t){e.error=t.message}))}}};V.render=B;var H=V,I=Object(n["f"])("h1",{class:"title"},"Sign Up",-1),M={class:"columns is-desktop"},N={class:"column field"},D=Object(n["f"])("label",{class:"label"},"First Name",-1),W={class:"control"},G={class:"column field"},T=Object(n["f"])("label",{class:"label"},"Last Name",-1),q={class:"control"},F={class:"columns is-desktop"},J={class:"column field"},X=Object(n["f"])("label",{class:"label"},"Email",-1),K={class:"control has-icons-left"},Q=Object(n["f"])("span",{class:"icon is-small is-left"},[Object(n["f"])("i",{class:"fas fa-envelope"})],-1),Y={class:"column field"},Z=Object(n["f"])("label",{class:"label"},"Password",-1),ee={class:"control has-icons-left"},te=Object(n["f"])("span",{class:"icon is-small is-left"},[Object(n["f"])("i",{class:"fas fa-key"})],-1),ae={ref:"submitBtn",type:"submit",class:"button is-primary"};function ne(e,t,a,s,r,c){return Object(n["o"])(),Object(n["d"])(n["a"],null,[I,Object(n["f"])("form",{onSubmit:t[5]||(t[5]=Object(n["A"])((function(){return c.Register&&c.Register.apply(c,arguments)}),["prevent"])),method:"post"},[Object(n["f"])("div",M,[Object(n["f"])("div",N,[D,Object(n["f"])("div",W,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.firstname=e})},null,512),[[n["w"],r.firstname]])])]),Object(n["f"])("div",G,[T,Object(n["f"])("div",q,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.lastname=e})},null,512),[[n["w"],r.lastname]])])])]),Object(n["f"])("div",F,[Object(n["f"])("div",J,[X,Object(n["f"])("div",K,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.email=e}),placeholder:"Email input"},null,512),[[n["w"],r.email]]),Q])]),Object(n["f"])("div",Y,[Z,Object(n["f"])("div",ee,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"password","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.password=e}),placeholder:"Password"},null,512),[[n["w"],r.password]]),te])])]),Object(n["f"])("button",ae,"Sign Up",512)],32)],64)}a("99af");var se={name:"Register",data:function(){return{firstname:"",lastname:"",email:"",password:""}},methods:{Register:function(){var e=this,t=this.$refs.submitBtn;t.classList.add("is-loading"),this.$firebase.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(a){var n=a.user;n&&(n.updateProfile({displayName:"".concat(e.firstname," ").concat(e.lastname)}),t.classList.remove("is-loading"),e.$router.replace({name:"Home"}))})).catch((function(e){var t=e.code,a=e.message;console.log(t,a)}))}}};se.render=ne;var re=se,ce={class:"title"},ie={class:"field"},oe=Object(n["f"])("label",{class:"label"},"Data1",-1),le={class:"control"},ue={class:"field"},fe=Object(n["f"])("label",{class:"label"},"Data2",-1),be={class:"control"},de={ref:"submitBtn",type:"submit",class:"button is-primary"};function pe(e,t,a,s,r,c){return Object(n["o"])(),Object(n["d"])(n["a"],null,[Object(n["f"])("h1",ce,"Welcome "+Object(n["u"])(e.$firebase.auth().currentUser.displayName),1),Object(n["f"])("form",{onSubmit:t[3]||(t[3]=Object(n["A"])((function(){return c.submit&&c.submit.apply(c,arguments)}),["prevent"])),method:"post"},[Object(n["f"])("div",ie,[oe,Object(n["f"])("div",le,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.data1=e})},null,512),[[n["w"],r.data1]])])]),Object(n["f"])("div",ue,[fe,Object(n["f"])("div",be,[Object(n["z"])(Object(n["f"])("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.data2=e})},null,512),[[n["w"],r.data2]])])]),Object(n["f"])("button",de,"Submit",512)],32)],64)}a("66ce");var me={data:function(){return{data1:"",data2:""}},methods:{submit:function(){var e=this.$refs.submitBtn;e.classList.add("is-loading"),this.$firebase.database().ref("truck").set({data:this.data1,data1:this.data2},(function(t){t?console.log(t):(console.log("data saved"),e.classList.remove("is-loading"))}))}}};me.render=pe;var Oe=me,je=[{path:"/login",name:"Login",component:H},{path:"/register",name:"Register",component:re},{path:"/",name:"Home",component:Oe,meta:{requiresAuth:!0}}],ve=Object(U["a"])({history:Object(U["b"])(),routes:je});x["a"].getCurrentUser=function(){return new Promise((function(e,t){var a=x["a"].auth().onAuthStateChanged((function(t){a(),e(t)}),t)}))},ve.beforeEach(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,a,n){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.matched.some((function(e){return e.meta.requiresAuth})),e.next=3,x["a"].getCurrentUser();case 3:r=e.sent,r?"Login"===t.name||"Register"===t.name?n({name:"Home"}):n():s?n("Login"):n();case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}());var he=ve,ge=Object(n["c"])(k),we={apiKey:"AIzaSyCEfiwv8DltHDab5n78CcRRL_UIzM9id6o",authDomain:"truckmanifest-ba0a5.firebaseapp.com",databaseURL:"https://truckmanifest-ba0a5-default-rtdb.firebaseio.com",projectId:"truckmanifest-ba0a5",storageBucket:"truckmanifest-ba0a5.appspot.com",messagingSenderId:"594820744642",appId:"1:594820744642:web:36b3d483bf792dbb00425b",measurementId:"G-WRXFQGGH0X"};x["a"].initializeApp(we),"localhost"===location.hostname&&(console.log("local"),x["a"].database().useEmulator("localhost",8082)),ge.config.globalProperties.$firebase=x["a"],ge.use(he).mount("#app")},"7e79":function(e,t,a){}});
//# sourceMappingURL=app.adfda6d1.js.map